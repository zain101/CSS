package com.ciphers;

import java.util.ArrayList;

public class Transposition {
	private static int height = 3;
	
	public static int getHeight() {
		return height;
	}

	public static void setHeight(int height) {
		Transposition.height = height;
	}

	public static String RouteEcryption(String plainText){
		String cipherText = null;
		char[] tmp = plainText.toCharArray();
		int i;
		int k =0;

		ArrayList<ArrayList<Character>> mat = new ArrayList<ArrayList<Character>>();
		for(i=0; i<getHeight(); i++){
			mat.add(new ArrayList<Character>());
		}

		for(int j=0; j<tmp.length; j++){
			for ( i =0; i< 3; i++){
				if(tmp[k] == ' '){
					mat.get(i).add('#');
					k++;
				}
				else{
					mat.get(i).add(tmp[k++]);
				}
			}
			if(k >= tmp.length){
				break;
			}
		}

/*		for (ArrayList<Character> character : mat) {
			System.out.println(character);
		}*/
		
		
		int r = 3;
		int c = mat.get(0).size();
		k=0;
		int l=0;
		i=0;
		StringBuffer cipher = new StringBuffer() ;

		while(k < r && l < c){
			for (i = l; i < c; i++){
				cipher.append(mat.get(k).get(i));
			}
			k++;
			for (i = k; i < r; ++i){
				cipher.append(mat.get(i).get(c-1));
			}
			c--;

			if ( k < r){
				for (i = c-1; i >= l; --i){
					cipher.append(mat.get(r-1).get(i));
				}
			}
			r--;

			if (l < c){
				for (i = r-1; i >= k; --i){
					cipher.append(mat.get(i).get(l));
				}
				l++;    

			}
		}

		System.out.println(cipher);

		
		return cipherText;
	}
	
	public static String RouteDecryption(){
		
		return null;
	}
	
}
